import Utils from app.service.common.Utils;

<div class="tableListTemplate">
    <spike sp-for="element, elementIndex in scope.data">
        <div class="table-row">
            <spike sp-forEach="option, optionKey in scope.options.columns">
                <div class="table-column {{option.clazz}}" style="width: {{option.width}}%">
                    <spike sp-switch="option.type">
                        <spike sp-case="'buttons'">

                            <spike sp-for="button in option.buttons">
                                <button class="{{button.clazz}}" sp-click="scope.delegateEvent(button, this)">{{optionKey}}</button>
                            </spike>
                            <spike sp-break></spike>
                        </spike>
                        <spike sp-case="'date'">
                            {{element[optionKey] ? Utils.formatDate(element[optionKey], option.format, false) : '&nbsp;'}}
                            <spike sp-break></spike>
                        </spike>
                        <spike sp-case="'select'">
                            <select sp-change="scope.delegateEvent(option, this)">
                                <option spike sp-forEach="argument, argumentKey in option.arguments" value="{{argumentKey}}">{{argument}}</option>
                            </select>
                            <spike sp-break></spike>
                        </spike>
                        <spike sp-case="'checkbox'">
                            <input type="checkbox"><input>
                            <spike sp-break></spike>
                        </spike>
                        <spike sp-case="'href'">
                            <a href="{{option.link(element)}}" target="{{option.target}}">{{optionKey}}</a>
                            <spike sp-break></spike>
                        </spike>
                        <spike sp-case="'filter'">
                            {{option.filter(element)}}
                            <spike sp-break></spike>
                        </spike>
                        <spike sp-default>
                            {{element[optionKey] ? element[optionKey] : '&nbsp;'}}
                        </spike>
                    </spike>
                </div>
            </spike>
        </div>
    </spike>
</div>